# Deployment mode: self_hosted or saas
DEPLOYMENT_MODE=self_hosted

# API configuration
API_HOST=0.0.0.0
API_PORT=8000

# Database URL (PostgreSQL)
# Self-hosted (docker-compose): postgres service
DATABASE_URL=postgresql+asyncpg://polar:polar@postgres:5432/polar

# SaaS (Laravel shared database)
# DATABASE_URL=postgresql+asyncpg://user:pass@host:5432/dbname

# Security (required for SaaS mode, generates default for self-hosted)
# ENCRYPTION_KEY=<base64-encoded-32-byte-key>
# JWT_SECRET=<secret-key>

# Sync settings
SYNC_ENABLED=true                    # Enable/disable automatic background syncing
SYNC_INTERVAL_MINUTES=60             # Minutes between sync cycles (default: 60)
SYNC_ON_STARTUP=false                # Run sync immediately on startup (default: false)
SYNC_MAX_USERS_PER_RUN=10            # Max users per sync cycle (default: 10)
SYNC_STAGGER_SECONDS=5               # Delay between user syncs (default: 5)
SYNC_DAYS_LOOKBACK=30                # Days of history to sync

# Logging
LOG_LEVEL=INFO

# Self-hosted mode: path to Polar token file
POLAR_TOKEN_PATH=/root/.polar-flow/token
